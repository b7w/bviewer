{% extends 'admin/base_site.html' %}
{% load i18n %}
{% load admin_static %}


{% block extrahead %}
    {{ block.super }}
    <script src="{% static 'admin/js/jquery.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'profile/js/knockout.js' %}" type="text/javascript"></script>
    <script src="{% static 'profile/js/profile.js' %}" type="text/javascript"></script>
{% endblock %}


{% block extrastyle %}
    {{ block.super }}
    <link rel="stylesheet" type="text/css" href="{% static 'admin/css/forms.css' %}"/>
    <link rel="stylesheet" type="text/css" href="{% static 'profile/css/profile.css' %}"/>
{% endblock %}


{% block messages %}
    <ul class="messagelist" data-bind="visible: messages().length > 0, foreach: messages">
        <li class="info" data-bind="text: message, attr: { class: tags }"></li>
    </ul>
{% endblock messages %}


{% block content %}

    <div id="content-main">
        <div class="module aligned">
            <div class="form-row">
                <label for="id_gallery" class="required">Gallery:</label>
                <select id="id_gallery" data-bind="options: galleries, optionsText: 'name', value: chosenGallery, optionsCaption: 'Choose...'"></select>
            </div>

            <div class="form-row">
                <label>Path:</label>

                <a href="#" class="split-path" data-bind="click: selectHome">Home</a>
                <span class="split-path" data-bind="foreach: splitPath">
                    â€º <a href="#" data-bind="text: name, click: $parent.select"></a>
                </span>
            </div>

            <div class="form-row">
                <label>Selected:</label>

                <span data-bind="text: selectedImages"></span>

                <a href="#" style="margin-left: 20px;" data-bind="click: selectAll">Select all</a>
                <a href="#" style="margin-left: 20px;" data-bind="click: deselectAll">Deselect all</a>
            </div>

            <div class="form-row">
                <label class="required" style="float: none;">Folder:</label>
                <ul class="thumbnails">
                    <li data-bind="click: selectBack">
                        <a href="#" class="thumbnail">
                            <img src="{% static 'core/img/gallery.png' %}">

                            <p class="caption">back</p>
                        </a>
                    </li>
                    <span data-bind="foreach: dirs">
                        <li data-bind="click: $parent.select">
                            <a href="#" class="thumbnail">
                                <img src="{% static 'core/img/gallery.png' %}">

                                <p class="caption" data-bind="text: name"></p>
                            </a>
                        </li>
                    </span>
                    <span data-bind="foreach: files">
                        <li>
                            <a class="thumbnail image" data-bind="event: { mouseover: focusIn, mouseout: focusOut }">
                                <input type='checkbox' name="images" class="caption-checkbox" data-bind="checked: checked">
                                <img src data-bind="attr: { src: url }">

                                <p class="caption" data-bind="text: name, visible: underFocus"></p>
                            </a>
                        </li>
                    </span>
                </ul>
            </div>

            <div class="form-row">
                <label>Selected:</label>

                <span data-bind="text: selectedImages"></span>

                <a href="#" style="margin-left: 20px;" data-bind="click: selectAll">Select all</a>
                <a href="#" style="margin-left: 20px;" data-bind="click: deselectAll">Deselect all</a>
            </div>
        </div>
    </div>

    <div class="submit-row">
        <input type="submit" value="{% trans 'Save and continue editing' %}" class="default" data-bind="click: save"/>
    </div>


    <script type="text/javascript">
        ko.applyBindings(new ImageModel());
    </script>
{% endblock %}


